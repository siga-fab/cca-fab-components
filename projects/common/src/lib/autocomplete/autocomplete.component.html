<div class="wrapper">
  <com-input
    (ref)="getInputRef($event)"
    (focused)="open($event)"
    (blurred)="close($event)"
    (immediate)="onImmediateChange($event)"
    [value]="value"
    type="autocomplete"
    [placeholder]="placeholder"
    class="input-style"
    [label]="label"
    immediate
  ></com-input>
</div>

<div
  (focusout)="close($event)"
  [@inOutAnimation]
  *ngIf="isOpen && options.length"
  class="card"
>
  <ul>
    <li
      [ngClass]="{ focus: index === selectedIndex }"
      *ngFor="let option of options; let index = index"
      (mousedown)="$event.preventDefault()"
      (click)="selectedItem(index)"
    >
      {{ $any(option).value ? $any(option).name : option }}
    </li>
  </ul>
</div>
