<div class="table col-xs">
  <div class="header row">
    <div class="col-xs" *ngFor="let header of headers">
      {{ header }}
    </div>
    <div class="col-xs end-xs" [hidden]="!showActions"></div>
  </div>
  <div class="body">
    <div class="row" *ngFor="let data of dataSource; let i = index">
      <div class="col-xs" *ngFor="let header of headers">
        {{ data[header] }}
      </div>
      <div class="col-xs end-xs" [hidden]="!showActions" #actionWrapper>
        <ng-container
          *ngIf="actionTemplateRef"
          [ngTemplateOutlet]="actionTemplateRef"
          [ngTemplateOutletContext]="{
            $implicit: { data: data, index: i, dataSource: dataSource }
          }"
        >
        </ng-container>
      </div>
    </div>
  </div>
  <div class="footer row between-xs">
    <div class="row left middle-xs">
      <div
        tabindex="0"
        class="button"
        (keydown)="onRefresh($event); acessibleStateMap['refresh'] = true"
        (keyup)="acessibleStateMap['refresh'] = false"
        (click)="onRefresh($event)"
        (mousedown)="acessibleStateMap['refresh'] = true"
        (mouseup)="acessibleStateMap['refresh'] = false"
        role="button"
        [attr.aria-pressed]="acessibleStateMap['refresh']"
      >
        <cca-common-icon>loop</cca-common-icon>
      </div>
      <div>
        Itens por página:
        <span class="input">
          <cca-common-input
            type="number"
            [value]="pageSize"
            (confirm)="onPageSizeChange($event)"
            min="20"
            [max]="maxPageSize"
            step="10"
            textCenter
          ></cca-common-input>
        </span>
      </div>
    </div>
    <div class="row right middle-xs">
      <div
        [tabindex]="!disableMap['firstPage'] ? '0' : '-1'"
        class="button"
        [ngClass]="{ disabled: disableMap['firstPage'] }"
        (click)="!disableMap['firstPage'] ? onFirstPage($event) : null"
        role="button"
        (keydown)="
          !disableMap['firstPage']
            ? onFirstPage($event) && (acessibleStateMap['firstPage'] = true)
            : null
        "
        (keyup)="acessibleStateMap['firstPage'] = false"
        (mousedown)="acessibleStateMap['firstPage'] = true"
        (mouseup)="acessibleStateMap['firstPage'] = false"
        role="button"
        [attr.aria-pressed]="acessibleStateMap['firstPage']"
      >
        <cca-common-icon>first_page</cca-common-icon>
      </div>
      <div
        [tabindex]="!disableMap['previous'] ? '0' : '-1'"
        class="button"
        [ngClass]="{ disabled: disableMap['previous'] }"
        (click)="!disableMap['previous'] ? onPreviousPage($event) : null"
        (keydown)="
          !disableMap['previous']
            ? onPreviousPage($event) && (acessibleStateMap['previous'] = true)
            : null
        "
        (keyup)="acessibleStateMap['previous'] = false"
        (mousedown)="acessibleStateMap['previous'] = true"
        (mouseup)="acessibleStateMap['previous'] = false"
        role="button"
        [attr.aria-pressed]="acessibleStateMap['previous']"
      >
        <cca-common-icon>chevron_left</cca-common-icon>
      </div>

      <div class="label">
        Página:
        <span class="input">
          <cca-common-input
            type="number"
            [value]="pageIndex"
            min="1"
            [max]="totalPages"
            (confirm)="onPageIndexChange($event)"
            textCenter
          ></cca-common-input>
        </span>
        / {{ totalPages }}
      </div>

      <div
        [tabindex]="!disableMap['next'] ? '0' : '-1'"
        class="button"
        [ngClass]="{ disabled: disableMap['next'] }"
        (click)="!disableMap['next'] ? onNextPage($event) : null"
        (keydown)="
          !disableMap['next']
            ? onNextPage($event) && (acessibleStateMap['next'] = true)
            : null
        "
        (keyup)="acessibleStateMap['next'] = false"
        (mousedown)="acessibleStateMap['next'] = true"
        (mouseup)="acessibleStateMap['next'] = false"
        role="button"
        [attr.aria-pressed]="acessibleStateMap['next']"
      >
        <cca-common-icon>chevron_right</cca-common-icon>
      </div>

      <div
        [tabindex]="!disableMap['lastPage'] ? '0' : '-1'"
        class="button"
        [ngClass]="{ disabled: disableMap['lastPage'] }"
        (click)="!disableMap['lastPage'] ? onLastPage($event) : null"
        (keydown)="
          !disableMap['lastPage']
            ? onLastPage($event) && (acessibleStateMap['lastPage'] = true)
            : null
        "
        (keyup)="acessibleStateMap['lastPage'] = false"
        (mousedown)="acessibleStateMap['lastPage'] = true"
        (mouseup)="acessibleStateMap['lastPage'] = false"
        role="button"
        [attr.aria-pressed]="acessibleStateMap['lastPage']"
      >
        <cca-common-icon>last_page</cca-common-icon>
      </div>
    </div>
  </div>
</div>
